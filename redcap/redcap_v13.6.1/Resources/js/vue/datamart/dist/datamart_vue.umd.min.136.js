(("undefined"!==typeof self?self:this)["webpackChunkdatamart_vue"]=("undefined"!==typeof self?self:this)["webpackChunkdatamart_vue"]||[]).push([[136],{8136:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return M}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-revision-page"},[n("section",{staticClass:"main"},[n("RevisionManagerView",{attrs:{hidden_groups:t.revision_hidden_groups},scopedSlots:t._u([{key:"header",fn:function(){return[n("MappingHelperButton",{staticClass:"ml-auto"})]},proxy:!0}])})],1),n("section",{staticClass:"footer"},[n("b-button",{attrs:{variant:"secondary"},on:{click:t.goBack}},[n("span",[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"],"fixed-width":""}}),n("span",{attrs:{ss:"ms-2"}},[t._v("Back")])],1)]),n("ResetButton"),n("SubmitButton",{on:{dismissed:t.onDismissed}})],1)])},s=[],r=n(9891),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{attrs:{variant:"info",disabled:!t.isDirty},on:{click:t.onClick}},[n("span",[n("font-awesome-icon",{attrs:{icon:["fas","undo"],"fixed-width":""}}),n("span",{staticClass:"ms-2"},[t._v("Reset")])],1)])},o=[],c={name:"ResetButton",computed:{isDirty:function(){return this.$store.getters["revision/isDirty"]}},methods:{onClick:function(){this.$store.dispatch("revision/reset")}}},u=c,l=n(3736),d=(0,l.Z)(u,a,o,!1,null,"4ff224aa",null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{attrs:{variant:"success",disabled:t.loading||!t.isValid||!t.isDirty},on:{click:t.onClick}},[n("span",[t.loading?n("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}}):n("font-awesome-icon",{attrs:{icon:["fas","file-export"],"fixed-width":""}}),n("span",{staticClass:"ms-2"},[t._v("Submit")])],1)])},m=[],h=n(2697),v=(n(5666),n(7941),{data:function(){return{loading:!1}},computed:{isDirty:function(){return this.$store.getters["revision/isDirty"]},isValid:function(){var t=this.$store.state.validator.errors;return 0==Object.keys(t).length}},methods:{onClick:function(){var t=this;return(0,h.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("revision/validate");case 3:if(n=e.sent,n){e.next=6;break}return e.abrupt("return");case 6:return t.loading=!0,e.next=9,t.$store.dispatch("revision/submit",t.$API);case 9:t.$bvToast.toast("Your revision has been submitted",{title:"Success",autoHideDelay:5e3,variant:"success",appendToast:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),t.$bvToast.toast("Error submitting your revision",{title:"Error",autoHideDelay:5e3,variant:"danger",appendToast:!0});case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})))()}}}),b=v,x=(0,l.Z)(b,f,m,!1,null,"d572e2bc",null),g=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-button",{attrs:{variant:"info"},on:{click:t.onClick}},[n("span",[n("font-awesome-icon",{attrs:{icon:["fas","code-branch"],"fixed-width":""}}),n("span",{staticClass:"ms-2"},[t._v("Use the Mapping Helper")])],1)])},w=[],_={name:"mapping-helper-button",data:function(){return{}},computed:{mapping_helper_url:function(){var t=this.$store.state.settings.settings.mapping_helper_url;return t}},methods:{onClick:function(){var t=this;return(0,h.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.open(t.mapping_helper_url,"_self");case 1:case"end":return e.stop()}}),e)})))()}}},y=_,C=(0,l.Z)(y,k,w,!1,null,"2638eef4",null),$=C.exports,R={name:"CreateRevisionView",data:function(){return{revision_hidden_groups:[r.q.MRNS]}},components:{RevisionManagerView:r.Z,ResetButton:p,SubmitButton:g,MappingHelperButton:$},methods:{goBack:function(){this.$router.push({name:"home"})},onDismissed:function(){this.goBack()}}},B=R,D=(n(9773),(0,l.Z)(B,i,s,!1,null,"447b6394",null)),M=D.exports},3803:function(t,e,n){"use strict";n.r(e);var i=n(3481),s=n.n(i),r=n(2400),a=n.n(r),o=a()(s());o.push([t.id,".footer[data-v-447b6394]{margin-top:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.footer *+*[data-v-447b6394]{margin-left:10px}@media only screen and (max-width:768px){.footer[data-v-447b6394]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.footer *+*[data-v-447b6394]{margin-left:0;margin-top:10px}}",""]),e["default"]=o},9773:function(t,e,n){var i=n(3803);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=n(4402).Z;s("73b1e029",i,!0,{sourceMap:!1,shadowMode:!1})}}]);