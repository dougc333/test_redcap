(("undefined"!==typeof self?self:this)["webpackChunkdatamart_vue"]=("undefined"!==typeof self?self:this)["webpackChunkdatamart_vue"]||[]).push([[123],{54:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.settings?n("div",[n("section",{staticClass:"metadata"},[n("input",{attrs:{type:"hidden",name:"datamart[request_id]"},domProps:{value:t.settings.request_id}}),n("input",{attrs:{type:"hidden",name:"datamart[user_id]"},domProps:{value:t.settings.user_id}})]),n("section",{staticClass:"daterange"},[n("input",{attrs:{type:"hidden",name:"datamart[daterange][min]"},domProps:{value:t.settings.dateMin}}),n("input",{attrs:{type:"hidden",name:"datamart[daterange][max]"},domProps:{value:t.settings.dateMax}})]),n("section",{staticClass:"mrns"},t._l(t.settings.mrns,(function(t,e){return n("input",{key:e,attrs:{type:"hidden",name:"datamart[mrns][]"},domProps:{value:t}})})),0),n("section",{staticClass:"fields"},t._l(t.settings.fields,(function(t,e){return n("input",{key:e,attrs:{type:"hidden",name:"datamart[fields][]"},domProps:{value:t}})})),0)]):t._e()},s=[],a={name:"FormSettings",computed:{settings:function(){var t=this.$store.getters["settings"];return t}}},i=a,o=n(3736),u=(0,o.Z)(i,r,s,!1,null,"5a74f15b",null),d=u.exports},7391:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-button",{attrs:{variant:"outline"},on:{click:t.importRevision}},[n("span",[n("font-awesome-icon",{attrs:{icon:["fas","file-import"],"fixed-width":""}}),n("span",{staticClass:"ms-2"},[t._v("Import Revision")])],1)])],1)},s=[],a=n(2697),i=(n(5666),n(9601),n(1539),n(4747),n(1038),n(8783),{computed:{userCanImportRevision:function(){var t=this.$store.state.user.info;if(!t)return!1;var e=t.super_user,n=t.can_create_revision;return!!e||n}},methods:{importRevision:function(){var t=this,e=function(t){var e=Object.assign({},t);return Array.isArray(e.fields)||(e.fields=[]),Array.isArray(e.mrns)||(e.mrns=[]),e},n=document.createElement("input");n.setAttribute("type","file"),n.style.display="none",document.body.appendChild(n),n.addEventListener("change",(0,a.Z)(regeneratorRuntime.mark((function r(){var s,a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=new FormData,Array.from(n.files).forEach((function(t){s.append("files[]",t)})),r.next=4,t.$API.dispatch("revisions/importRevision",s);case 4:return a=r.sent,i=a.data,o=e(i),r.next=9,t.$store.dispatch("revision/set",o);case 9:t.$emit("import",i),i||t.$bvModal.msgBoxOk("The file you are trying to import could not be processed",{title:"Import error",size:"md",buttonSize:"sm",headerClass:"font-weight-bold",okVariant:"secondary"}),n.remove();case 12:case"end":return r.stop()}}),r)})))),n.click()}}}),o=i,u=n(3736),d=(0,u.Z)(o,r,s,!1,null,"b0f81e30",null),c=d.exports},3123:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-project-page"},[n("div",{staticClass:"buttons"},[n("ImportRevisionButton")],1),n("RevisionManagerView",{attrs:{hidden_groups:t.revision_hidden_groups}}),n("FormSettings")],1)},s=[],a=n(54),i=n(9891),o=n(7391),u={name:"CreateProjectPage",data:function(){return{revision_hidden_groups:[]}},components:{RevisionManagerView:i.Z,ImportRevisionButton:o.Z,FormSettings:a.Z}},d=u,c=(n(911),n(3736)),l=(0,c.Z)(d,r,s,!1,null,"50ad69da",null),m=l.exports},3906:function(t,e,n){"use strict";n.r(e);var r=n(3481),s=n.n(r),a=n(2400),i=n.n(a),o=i()(s());o.push([t.id,".buttons[data-v-50ad69da]{text-align:right;margin-bottom:10px}",""]),e["default"]=o},911:function(t,e,n){var r=n(3906);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var s=n(4402).Z;s("0feeddae",r,!0,{sourceMap:!1,shadowMode:!1})}}]);