(("undefined"!==typeof self?self:this)["webpackChunkmapping_helper_vue"]=("undefined"!==typeof self?self:this)["webpackChunkmapping_helper_vue"]||[]).push([[492],{5026:function(t,e,a){"use strict";var n=a(5125),s=(a(4819),a(1539),a(1299),new Proxy((function(){return{}}),{get:function(t,e,a){return"name"===e?"Undefined":s},apply:function(){return s}})),r=function t(e){return new Proxy(e,{get:function(e,a){var r=Reflect.get(e,a);return"object"===(0,n.Z)(r)?t(r):void 0==r?s:r}})};e["Z"]=r},6033:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("span",{staticClass:"node"},[t.isArray(t.payload)?e("span",{staticClass:"parenthesis open",domProps:{textContent:t._s("[")}}):t._e(),t.isObject(t.payload)?e("span",{staticClass:"parenthesis open",domProps:{textContent:t._s("{")}}):t._e(),e("span",{staticClass:"expander text-muted",on:{click:function(e){return e.stopPropagation(),t.onClick.apply(null,arguments)}}},[t.open?e("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-down"]}}):e("font-awesome-icon",{attrs:{icon:["fas","chevron-circle-right"]}})],1),t.open?t._l(t.payload,(function(a,n){return e("span",{key:n,staticClass:"child d-block ms-2"},[t.isArray(t.payload)?t._e():e("span",{staticClass:"me-2 font-weight-bold"},[t._v('"'+t._s(n)+'":')]),t.isLeaf(a)?e("span",{class:t.getClass(a),domProps:{textContent:t._s(t.print(a))}}):e("Node",{attrs:{payload:a}}),t.isLast(n)?t._e():e("span",[t._v(",")])],1)})):t._e(),t.isArray(t.payload)?e("span",{staticClass:"parenthesis closed",domProps:{textContent:t._s("]")}}):t._e(),t.isObject(t.payload)?e("span",{staticClass:"parenthesis closed",domProps:{textContent:t._s("}")}}):t._e()],2)},s=[],r=a(5953),o=a(5125),i=(a(7941),a(7042),{name:"Node",data:function(){return{open:!0}},components:{Node:Node},props:{payload:{type:[Object,Array],default:function(){return{}}}},methods:{isLeaf:function(t){return!(this.isObject(t)||this.isArray(t))},isObject:function(t){return"object"===(0,o.Z)(t)&&!Array.isArray(t)},isArray:function(t){return Array.isArray(t)},isLast:function(t){if(this.isObject(this.payload)){var e=Object.keys(this.payload);return e.slice(-1)[0]===t}return!!this.isArray(this.payload)&&t===(0,r.Z)(this.payload).length-1},print:function(t){return"string"===typeof t?'"'.concat(t,'"'):t},getClass:function(t){var e=(0,o.Z)(t);return e},onClick:function(){this.open=!this.open}}}),l=i,c=(a(6863),a(3736)),d=(0,c.Z)(l,n,s,!1,null,"6adeaa6d",null),u=d.exports},3384:function(t,e,a){"use strict";a.d(e,{Z:function(){return d}});a(3210);var n=function(){var t=this,e=t._self._c;return e("div",[e("b-alert",{attrs:{show:null!==t.payload,variant:"light"}},[e("h6",[t._v("Raw response")]),e("div",[e("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){t.show=!t.show}}},[t.show?e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","chevron-down"],"fixed-width":""}}):e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","chevron-right"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Show")])],1),e("b-button",{staticClass:"ms-2",attrs:{size:"sm",variant:"primary"},on:{click:t.onDownloadClicked}},[e("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","download"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Download")])],1)],1),e("Node",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"raw-response",attrs:{payload:t.payload}})],1),e("b-modal",{ref:"save-modal",attrs:{title:"Download response"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var n=a.cancel;return[e("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(t){return n()}}},[t._v(" Cancel ")]),e("b-button",{attrs:{size:"sm",variant:"success",disabled:!t.filename},on:{click:t.onSaveOkClicked}},[e("font-awesome-icon",{attrs:{icon:["fas","save"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Save")])],1)]}}])},[e("div",[e("b-input",{attrs:{placeholder:"enter a name...",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSaveOkClicked.apply(null,arguments)}},model:{value:t.filename,callback:function(e){t.filename="string"===typeof e?e.trim():e},expression:"filename"}})],1)])],1)},s=[],r=(a(8862),a(6033)),o={components:{Node:r.Z},data:function(){return{filename:"",show:!1}},props:{payload:{type:[Object,Array],default:function(){return{}}}},methods:{onDownloadClicked:function(){var t=this.$refs["save-modal"];t&&(this.filename="",t.show())},onSaveOkClicked:function(){if(""!=this.filename){this.download(JSON.stringify(this.payload,null,2),this.filename);var t=this.$refs["save-modal"];t&&t.hide()}},download:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.txt",a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}},i=o,l=(a(913),a(3736)),c=(0,l.Z)(i,n,s,!1,null,"e3945ed0",null),d=c.exports},3670:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});a(2526),a(1817);var n=function(){var t=this,e=t._self._c;return e("div",[e("span",[t._v(t._s(t.description))])])},s=[],r={props:{description:{type:String,default:""}}},o=r,i=a(3736),l=(0,i.Z)(o,n,s,!1,null,null,null),c=l.exports},9082:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",[t._t("aside")],2)},s=[],r=(a(4516),{data:function(){return{fhir_category:null,options:{}}},methods:{getParams:function(){var t=this.fhir_category,e=this.options;return{fhir_category:t,options:e}},isValid:function(){}},watch:{$v:{immediate:!0,handler:function(t){this.$emit("validation_changed",t)}}},validations:function(){return{}}}),o=r,i=a(3736),l=(0,i.Z)(o,n,s,!1,null,null,null),c=l.exports},2305:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return L}});var n=function(){var t=this,e=t._self._c;return e("div",[e("b-card",[e("CustomForm",{on:{"data-received":t.onDataReceived,error:t.onError}}),e("ResourceInfo",{staticClass:"my-2",attrs:{description:t.page_description}})],1),e("PayloadPanel",{staticClass:"mt-2",attrs:{payload:t.payload}})],1)},s=[],r=(a(2526),a(1817),a(8309),a(5026)),o=a(3670),i=(a(3210),function(){var t=this,e=t._self._c;return e("div",[e("b-card",[e("div",{staticClass:"d-flex align-items-center mb-2"},[e("span",{staticClass:"fhir_base_url d-block font-italic small me-2"},[t._v(t._s(t.fhir_base_url))]),e("b-form-input",{attrs:{size:"sm",name:"relative_url",placeholder:"enter URL..."},model:{value:t.relative_url,callback:function(e){t.relative_url="string"===typeof e?e.trim():e},expression:"relative_url"}}),e("b-form-select",{staticClass:"ms-2",attrs:{options:t.methods,size:"sm"},model:{value:t.method,callback:function(e){t.method=e},expression:"method"}})],1),e("div",{staticClass:"d-flex justify-content-between"},[e("b-button",{attrs:{size:"sm",variant:"outline-primary",disabled:t.isSendDisabled},on:{click:function(e){return t.onSendRequestClicked()}}},[t.loading?e("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:"","fixed-width":""}}):e("font-awesome-icon",{attrs:{icon:["fas","cloud-download-alt"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Send request")])],1),e("div",{staticClass:"d-flex"},[e("CustomPresetStorage",{staticClass:"me-2",attrs:{preset:t.preset},on:{restore:t.onRestore}}),e("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:t.onAddParameterClicked}},[e("font-awesome-icon",{attrs:{icon:["fas","plus-circle"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Add a new parameter")])],1)],1)],1),e("div",{staticClass:"my-2"},t._l(t.params,(function(a,n){return e("div",{key:a.id,staticClass:"param-row"},[e("div",{staticClass:"d-flex align-items-center"},[e("b-form-input",{attrs:{name:"key-".concat(n),placeholder:"key"},model:{value:a.key,callback:function(e){t.$set(a,"key",e)},expression:"param.key"}}),e("b-form-input",{staticClass:"mx-2",attrs:{name:"value-".concat(n),placeholder:"value"},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"param.value"}}),e("div",{staticClass:"d-flex align-items-center"},[e("b-form-checkbox",{staticClass:"me-2",attrs:{switch:"",variant:"success"},model:{value:a.enabled,callback:function(e){t.$set(a,"enabled",e)},expression:"param.enabled"}}),e("b-button",{attrs:{size:"sm",variant:"outline-light"},on:{click:function(e){return t.onDeleteParameterClicked(n)}}},[e("font-awesome-icon",{staticClass:"text-danger",attrs:{icon:["fas","trash"],"fixed-width":""}})],1)],1)],1)])})),0)])],1)}),l=[],c=a(6448),d=a(9115),u=a(278),f=a(782),p=(a(2479),a(561),a(1539),a(4747),a(7658),a(7327),a(5934)),m=a(5953),v=(a(4858),a(3371),a(6992),a(8783),a(4129),a(3948),Object.freeze({GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"})),h=a(9082),_=function(){var t=this,e=t._self._c;return e("div",[e("StorageInput",{attrs:{save_disabled:!t.preset,save_text:"Save preset"},on:{restore:t.onRestore,save:t.startSave},scopedSlots:t._u([{key:"default",fn:function(a){var n=a.addItem;return[e("b-modal",{ref:"save-modal",attrs:{title:"Save configuration"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){var s=a.cancel;return[e("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(t){return s()}}},[t._v(" Cancel ")]),e("b-button",{attrs:{size:"sm",variant:"success",disabled:!t.preset_name},on:{click:function(e){return t.onSaveOkClicked(n)}}},[e("font-awesome-icon",{attrs:{icon:["fas","save"],"fixed-width":""}}),e("span",{staticClass:"ms-2"},[t._v("Save")])],1)]}}],null,!0)},[e("div",[e("p",{staticClass:"my-4"},[t._v("Do you want to save the current configuration?")]),e("b-input",{attrs:{placeholder:"enter a name for this preset..."},model:{value:t.preset_name,callback:function(e){t.preset_name="string"===typeof e?e.trim():e},expression:"preset_name"}})],1)])]}}])})],1)},y=[],b=(a(2222),function(){var t=this,e=t._self._c;return e("div",[e("b-button-group",{attrs:{size:"sm"}},[e("b-button",{attrs:{disabled:t.save_disabled,variant:"outline-info"},on:{click:t.onSaveClicked}},[e("font-awesome-icon",{attrs:{icon:["fas","save"],"fixed-width":""}}),t.save_text?e("span",{staticClass:"ms-2",domProps:{textContent:t._s(t.save_text)}}):t._e()],1),e("b-dropdown",{attrs:{size:"sm",variant:"outline-info",disabled:this.items.length<1},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("font-awesome-icon",{attrs:{icon:["fas","database"],"fixed-width":""}})]},proxy:!0}])},[[e("b-dropdown-text",[t._v("Restore preset")]),e("b-dropdown-divider"),t._l(t.items,(function(a,n){return e("b-dropdown-item",{key:"".concat(n,"-").concat(a.key),on:{click:function(e){return t.onSelect(a)}}},[e("div",{staticClass:"d-flex justify-content-between align-items-center"},[e("span",{staticClass:"small text-nowrap font-weight-bold text-muted"},[t._v(t._s(a.key))]),e("b-button",{staticClass:"ms-2",attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.confirmRemove(a)}}},[e("font-awesome-icon",{attrs:{icon:["fas","trash"],"fixed-width":""}})],1)],1)])}))]],2)],1),t._t("default",null,{addItem:t.addItem})],2)}),w=[];a(7714),a(2801),a(1174),a(8862);function k(t){var e;try{e=window[t];var a="__storage_test__";return e.setItem(a,a),e.removeItem(a),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&e&&0!==e.length}}var x={data:function(){return{items:[]}},props:{storage_key:{type:String,default:"my_storage"},save_disabled:{type:Boolean,default:!0},save_text:{type:String,default:""}},created:function(){this.items=this.getStoredItems()},computed:{storage_enabled:function(){return k("localStorage")}},methods:{onSelect:function(t){this.$emit("restore",t.value)},addItem:function(t,e){var a={key:t,value:e};console.log(t,e),this.items.push(a),this.storeItems()},confirmRemove:function(t){var e=this;return(0,d.Z)((0,c.Z)().mark((function a(){var n,s;return(0,c.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$bvModal.msgBoxConfirm("Are you sure you want to delete this preset?",{title:"Delete this preset?",okTitle:"Delete",okVariant:"danger"});case 2:if(n=a.sent,n){a.next=5;break}return a.abrupt("return");case 5:if(s=e.items.indexOf(t),!(s<0)){a.next=8;break}return a.abrupt("return");case 8:e.items.splice(s,1),e.storeItems();case 10:case"end":return a.stop()}}),a)})))()},getStoredItems:function(){if(!this.storage_enabled)return[];if(!this.storage_key)return[];var t=localStorage.getItem(this.storage_key),e=JSON.parse(t)||[];return Array.isArray(e)?e:[e]},storeItems:function(){localStorage.setItem("".concat(this.storage_key),JSON.stringify((0,m.Z)(this.items)))},onSaveClicked:function(){this.$emit("save",this.addItem)}}},g=x,C=(a(1187),a(3736)),S=(0,C.Z)(g,b,w,!1,null,"20d60c2a",null),Z=S.exports,O={components:{StorageInput:Z},data:function(){return{preset_name:""}},props:{preset:{type:Object,default:null},save_disabled:{type:Boolean,default:!1}},methods:{startSave:function(){this.preset_name="";var t=this.$refs["save-modal"];t&&t.show()},onRestore:function(t){this.$emit("restore",t)},onSaveOkClicked:function(t){"function"===typeof t&&t(this.preset_name,this.preset);var e=this.$refs["save-modal"];e&&e.hide()}}},A=O,P=(0,C.Z)(A,_,y,!1,null,null,null),E=P.exports,R=(0,u.Z)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,f.Z)(this,t),this.id=(0,p.Z)(),this.key=e,this.value=a,this.enabled=n})),I={extends:h.Z,components:{CustomPresetStorage:E},data:function(){return{loading:!1,method:v.GET,methods:Object.values(v),params:[],relative_url:""}},computed:{fhir_base_url:function(){var t=this.$store.state.app_settings.fhir_base_url;return t},preset:function(){if(""!=this.relative_url){var t={relative_url:this.relative_url,params:this.params,method:this.method};return t}},isSendDisabled:function(){return this.loading||""==this.relative_url}},methods:{onAddParameterClicked:function(){var t=new R;this.params.splice(this.params.length,0,t)},onDeleteParameterClicked:function(t){this.params.splice(t,1)},onRestore:function(t){var e=t.params,a=void 0===e?[]:e,n=t.relative_url,s=void 0===n?"":n,r=t.method;this.method=r,this.relative_url=s;var o=[];a.forEach((function(t){var e=new R(t.key,t.value,t.enabled);o.push(e)})),this.params=o},onSendRequestClicked:function(){var t=this;return(0,d.Z)((0,c.Z)().mark((function e(){var a,n,s,o,i,l,d,u;return(0,c.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a={},n=t.params.filter((function(t){return t.enabled})),n.forEach((function(t){t.key in a&&!Array.isArray(a[t.key])&&(a[t.key]=[a[t.key]]),Array.isArray(a[t.key])?a[t.key].push(t.value):a[t.key]=t.value})),e.prev=4,e.next=7,t.$API.dispatch("fhir/customRequest",t.relative_url,a);case 7:s=e.sent,o=s.data,t.$emit("data-received",o),e.next=20;break;case 12:e.prev=12,e.t0=e["catch"](4),i="",l=(0,r.Z)(e.t0),d=l.response.data,d.is_error,u=d.message,d.code,i=u||e.t0,t.$bvModal.msgBoxOk(i,{title:"Error",bodyClass:"text-break"}),t.$emit("error",i);case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,12,20,23]])})))()}}},$=I,M=(a(133),(0,C.Z)($,i,l,!1,null,"72f83aa9",null)),D=M.exports,z=a(3384),j={components:{ResourceInfo:o.Z,PayloadPanel:z.Z,CustomForm:D},data:function(){return{filter:null,filterOn:[],stacked:!1,payload:null}},computed:{page_description:function(){var t=this.$route.meta.description,e=void 0===t?"":t;return e}},methods:{onDataReceived:function(t){var e=t.data,a=t.metadata;this.data=e,this.metadata=(0,r.Z)(a),this.payload=a.payload},onError:function(){this.payload=null},updateTitle:function(t,e){var a=(0,r.Z)(t).name,n=(0,r.Z)(e).name;a!==n&&(this.payload=null)}},watch:{$route:{immediate:!0,handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updateTitle(t,e),this.fhir_resources=[]}}}},T=j,N=(a(4401),(0,C.Z)(T,n,s,!1,null,"2f90581e",null)),L=N.exports},1919:function(t,e,a){"use strict";a.r(e);var n=a(3481),s=a.n(n),r=a(2400),o=a.n(r),i=o()(s());i.push([t.id,".expander[data-v-6adeaa6d]{cursor:pointer}",""]),e["default"]=i},6284:function(t,e,a){"use strict";a.r(e);var n=a(3481),s=a.n(n),r=a(2400),o=a.n(r),i=o()(s());i.push([t.id,".raw-response[data-v-e3945ed0]{word-break:break-word}",""]),e["default"]=i},7334:function(t,e,a){"use strict";a.r(e);var n=a(3481),s=a.n(n),r=a(2400),o=a.n(r),i=o()(s());i.push([t.id,".dropdown-item[data-v-20d60c2a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.dropdown-item a[data-v-20d60c2a]{font-size:.8rem;color:inherit}.remove-item[data-v-20d60c2a]{margin-left:auto}",""]),e["default"]=i},7079:function(t,e,a){"use strict";a.r(e);var n=a(3481),s=a.n(n),r=a(2400),o=a.n(r),i=o()(s());i.push([t.id,".fhir_base_url[data-v-72f83aa9]{white-space:nowrap}.param-row+.param-row[data-v-72f83aa9]{margin-top:5px}",""]),e["default"]=i},2039:function(t,e,a){"use strict";a.r(e);var n=a(3481),s=a.n(n),r=a(2400),o=a.n(r),i=o()(s());i.push([t.id,"*[data-v-2f90581e] .modal-body{word-break:break-word}",""]),e["default"]=i},6863:function(t,e,a){var n=a(1919);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(4402).Z;s("e8e40ae4",n,!0,{sourceMap:!1,shadowMode:!1})},913:function(t,e,a){var n=a(6284);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(4402).Z;s("c8419daa",n,!0,{sourceMap:!1,shadowMode:!1})},1187:function(t,e,a){var n=a(7334);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(4402).Z;s("d69a67d0",n,!0,{sourceMap:!1,shadowMode:!1})},133:function(t,e,a){var n=a(7079);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(4402).Z;s("23dc1118",n,!0,{sourceMap:!1,shadowMode:!1})},4401:function(t,e,a){var n=a(2039);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=a(4402).Z;s("f0338dac",n,!0,{sourceMap:!1,shadowMode:!1})}}]);